@{
    ViewBag.Title = "Ingredients Knockout.JS";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="@Url.Content("~/ContentKO/Ingredients/Ingredients.css")" rel="stylesheet" type="text/css" />

<h2>
    Ingredients Knockout.JS</h2>

<div class="bloco">
    <div class="subTitulo">
        Ingredients list
        <div id="divImagemAjax">
            <span data-bind="visible : ingredientVm.updating">updating</span>
        </div>
    </div>
    <div class="divContent">
        <table>
            <thead>
                <tr>
                    <th>
                        Id
                    </th>
                    <th>
                        Name
                    </th>
                </tr>
            </thead>
            <tbody data-bind="foreach : ingredientVm.list">
                <tr data-bind="css: {linhaSelecionada : Id === $root.ingredientVm.selected().Id }, click: $root.ingredientVm.select">
                    <td data-bind="text:Id" ></td>
                    <td data-bind="text:Name" ></td>
                </tr>
            </tbody>
        </table>
        <button data-bind="click : ingredientVm.create">
            New</button>
        <button data-bind="click : ingredientVm.exclude">
            Delete</button>
        <button data-bind="click : ingredientVm.save">
            Save</button>
    </div>
    <button id="buttonShowDebugInfo">Show Debug Info</button>
</div>
<div class="bloco">
    <div class="subTitulo">
        Detail
    </div>
    <div class="divContent" data-bind="with : ingredientVm.selected">
        <div>
            <div class="campo">
                Id
            </div>
            <div class="dado">
                <span data-bind="text : Id"></span>
            </div>
        </div>
        <div>
            <div class="campo">
                Name
            </div>
            <div class="dado">
                <input data-bind="value : Name" />
            </div>
        </div>
    </div>
</div>
<div id="divDebug">
    <h3>
        knockout $data</h3>
    <div class="itemDebug">
        <pre data-bind="text: JSON.stringify(ko.toJS($data), null, 2)" id="preDebug"></pre>
    </div>
</div>
<div id="divLog">
    <h3>
        ajax log</h3>
    <div class="itemLog">
        <pre id="preLog"></pre>
    </div>
</div>

<!-- ***************

    javascript

******************-->
<script src="@Url.Content("~/Scripts/knockout-restfull/dev-external-libs/underscore.js 1.3.3.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/knockout-restfull/dev-external-libs/json2.js")" type="text/javascript"></script>

<script src="@Url.Content("~/Scripts/jquery-1.7.1.js")" type="text/javascript"> </script>
<script src="@Url.Content("~/Scripts/knockout.js")" type="text/javascript"> </script>
<script src="@Url.Content("~/Scripts/knockout-restfull/src/ajaxRest.js")" type="text/javascript"> </script>
<script src="@Url.Content("~/Scripts/knockout-restfull/src/repoJqueryAjax.js")" type="text/javascript"> </script>
<script src="@Url.Content("~/Scripts/knockout-restfull/src/controllerKnockout.js")" type="text/javascript"> </script>
<script src="@Url.Content("~/ContentKO/Ingredients/Ingredients.js")" type="text/javascript"> </script>